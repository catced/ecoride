{# {% extends 'base.html.twig' %}

{% block title %}RÃ©sultats de recherche{% endblock %}

{% block body %}
<div class="container">
    <h1>RÃ©sultats de votre recherche</h1>

    {% if rides is empty %}
        <p>Aucun itinÃ©raire trouvÃ© pour cette date.</p>

        {% if alternativeRide %}
            <p>?? Cependant, nous avons trouvÃ© un itinÃ©raire proche :</p>
            <ul>
                <li><strong>DÃ©part :</strong> {{ alternativeRide.departure }}</li>
                <li><strong>ArrivÃ©e :</strong> {{ alternativeRide.destination }}</li>
                <li><strong>Date :</strong> {{ alternativeRide.departureDay|date('d/m/Y H:i') }}</li>
                <li><strong>Prix :</strong> {{ alternativeRide.price }} ?</li>
                <li><strong>Conducteur :</strong> {{ alternativeRide.driver.pseudo }}</li>
            </ul>
            <a href="{{ path('ride_details', {'id': alternativeRide.id}) }}" class="btn btn-primary">Voir ce trajet</a>
        {% else %}
            <p>?? Aucun itinÃ©raire proche n'a Ã©tÃ© trouvÃ©.</p>
        {% endif %}
    {% else %}
        <ul>
            {% for ride in rides %}
                <li>
                    <strong>DÃ©part :</strong> {{ ride.departure }} <br>
                    <strong>ArrivÃ©e :</strong> {{ ride.destination }} <br>
                    <strong>Date :</strong> {{ ride.departureDay|date('d/m/Y H:i') }} <br>
                    <strong>Prix :</strong> {{ ride.price }} â¬ <br>
                    <a href="{{ path('ride_details', {'id': ride.id}) }}" class="btn btn-info">Voir le trajet</a>
                </li>
                <hr>
            {% endfor %}
        </ul>
    {% endif %}
</div>
{% endblock %} #}

{% extends 'base.html.twig' %}

{% block title %}Résultats de recherche{% endblock %}

{% block body %}

<form method="get" action="{{ path('search_results') }}" id="filter-form">
    <h2>Filtres supplémentaires</h2>

    <label for="departure">Départ :</label>
    <input type="text" id="departure" name="departure" value="{{ app.request.query.get('departure') }}">

    <label for="destination">Destination :</label>
    <input type="text" id="destination" name="destination" value="{{ app.request.query.get('destination') }}">

    <label for="departureDay">Date :</label>
    <input type="text" id="departureDay" name="departureDay" value="{{ app.request.query.get('departureDay') }}" placeholder="dd/mm/yyyy">

    <label for="price">Prix max (€) :</label>
    <input type="number" id="price" name="price" value="{{ app.request.query.get('price') }}" min="0" step="1">

    <label for="availableSeats">Places disponibles :</label>
    <input type="number" id="availableSeats" name="availableSeats" value="{{ app.request.query.get('availableSeats') }}" min="1" step="1">

    <label for="duration">durée du voyage :</label>
    <input type="time" id="duration" name="duration" value="{{ app.request.query.get('duration') }}" min="00:00" max="24:00" step="300">

    <button type="submit">Appliquer les filtres</button>
</form>

    <li><a href="{{ path('app_mes_voyages') }}">Mes réservations passées ou futures </a></li>
    

{# {% extends 'base.html.twig' %} #}

{# {% block title %}Mes Voyages{% endblock %} #}

        
{# <h1>Mes Voyages</h1> #}

 {# <h2>Voyages à venir</h2> #}
{#{{ dump(voyagesavenir) }}
{% if voyagesavenir is not empty %}
    <ul>
        {% for voyage in voyagesavenir %}
            <li>{{ voyage.destination }} - {{ voyage.date|date('d/m/Y') }}</li>
        {% endfor %}
    </ul>
{% else %}
    <p>Aucun voyage à venir.</p>
{% endif %} #}

{# <h2>Voyages effectués</h2>
{% if voyagespasses is not empty %}
    <ul>
        {% for voyage in voyagespasses %}
            <li>{{ voyage.destination }} - {{ voyage.date|date('d/m/Y') }}</li>
        {% endfor %}
    </ul>
{% else %}
    <p>Aucun voyage effectué.</p>
{% endif %} #}


    <h1>Résultats de recherche</h1>

    <!-- Formulaire de filtre -->
    {# {{ form_start(form) }}
        {{ form_row(form.departure) }}
        {{ form_row(form.destination) }}
        {{ form_row(form.departureDay) }}
        <button type="submit">Filtrer</button>
    {{ form_end(form) }} #}

    <h2>Trajets disponibles</h2>
  
    
    {% if rides is not empty %}
        <ul>
            {% for ride in rides %}
                <li>
                    {{ ride.departure }} - {{ ride.destination }} le {{ ride.departureDay|date('d/m/Y') }}
                    <p>Nombre de places disponibles : {{ ride.availableSeats }}</p>
                    <p>Départ à  : {{ ride.departureTime|date('H:i') }}</p>
                    <p>Conducteur : {{ ride.driver.pseudo }}</p>
                    <a href="{{ path('ride_details', { 'id': ride.id }) }}">Détails</a>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>Aucun trajet ne correspond aux filtres sélectionnés.</p>

         <!-- Bouton de retour vers l'espace utilisateur -->
    <a href="{{ path('user_dashboard') }}" class="btn btn-secondary">Retour à l'espace utilisateur</a>
    {% endif %}
{% endblock %}
